<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/libs/katex/katex.min.css"> <link rel=stylesheet  href="/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/css/franklin.css"> <link rel=stylesheet  href="/css/poole_lanyon.css"> <link rel=stylesheet  href="/css/adjust.css"> <link rel=icon  href="/assets/favicon.png"> <title>An example on differential evolution</title> <input type=checkbox  class=sidebar-checkbox  id=sidebar-checkbox > <div class=sidebar  id=sidebar > <div class=sidebar-item > <p> Small dirty beans... of course we talkin' about coffe. </> </div> <nav class=sidebar-nav > <a class="sidebar-nav-item " href="/">Home</a> <a class="sidebar-nav-item " href="/menu1/">Code blocks</a> <a class="sidebar-nav-item " href="/menu2/">More goodies</a> <a class="sidebar-nav-item " href="/menu3/">Tags</a> <a class="sidebar-nav-item " href="/menu-entries/">All entries</a> </nav> <div class=sidebar-item > <p>&copy; Flores-Torres Leonardo.</p> </div> </div> <!-- Wrap is the content to shift when toggling the sidebar. We wrap the content to avoid any CSS collisions with our real content. --> <div class=wrap > <div class=masthead > <div class=container > <h3 class=masthead-title > <a href="/" title=Home > QuantumBeans </a> <small> Are we quantum yet? [No...] Then, can I get some coffee? </small> </h3> </div> </div> <div class="container content"> <div class=franklin-content > <h1 id=differential_evolution ><a href="#differential_evolution" class=header-anchor >Differential Evolution</a></h1> <p>Hi&#33; Welcome.</p> <p>I hope this entry to be kind of different to the first one I made a looong time ago.</p> <p>I started using vanilla <a href="https://www.gnu.org/software/emacs/">Emacs</a> recenlty, I give thanks to professor <a href="https://www.uv.mx/personal/aguerra/">Guerra</a> for this. I learned some <a href="https://www.sbcl.org/">SBCL</a> during his <a href="https://www.uv.mx/personal/aguerra/docencia/">lectures</a>, and I became amazed of how integrated the coding experience writting Lisp using <a href="https://slime.common-lisp.dev/">SLIME</a> is. I come from <em>Julia land</em> where the workflow is heavily based on using the Julia REPL.</p> <p>Eventually I found myself enjoying more writting Lisp than Julia using their respective workflows, but I really missed Julia&#39;s package manager.</p> <p>Then, due to my itching curiosity, I stumbled upon other lisp-like languages. First I found <a href="https://clojure.org/">Clojure</a>, then I found <a href="https://racket-lang.org/">Racket</a>. I first liked Clojure the most because of the <em>build your own products vibe</em>, but quickly became confused in the docs. On the other hand, Racket seemed very very similar to what I already knew. Then, as always, I lost my time reading blog posts on which one to choose or if I should keep up with SBCL instead.</p> <p>Now I was in the same hole we all get to when learning a new programming language: <em>what project&#40;s&#41; can I do? which tutorials can I follow?</em> and so on... You know how this goes. The neverending days of zero progress, just me and tutorial hole. Oh, and don&#39;t forget the imposter syndrome.</p> <p>I hope Racket perseveres and becomes a thriving language in the future just like I hope the same for Julia, kudos to the communities behind both languages.</p> <div class=colbox-blue ><p>What is differential evolution?</p> <p>~</p></div> <p>The fist function that will be taken as aptitude function is</p> <a id=eqf  class=anchor ></a><span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>F</mi><mo stretchy=false >(</mo><mover accent=true ><mi>x</mi><mo>⃗</mo></mover><mo stretchy=false >)</mo><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup></mrow><annotation encoding="application/x-tex"> F(\vec{x}) = \sum\limits_{i = 1}^n x_i^2 </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=mopen >(</span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.2077em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.2777em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.247em;"><span></span></span></span></span></span></span></span></span></span></span> <p>where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">n</span></span></span></span> is the number of components of vector <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent=true ><mi>x</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{x}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.714em;"></span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.2077em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>.</p> <figure><img src="/assets/differential-evolution-example/plot-function-f.png" alt=""> <div style="text-align:center"><strong>Figure 1.</strong> Plot of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo stretchy=false >(</mo><mover accent=true ><mi>x</mi><mo>⃗</mo></mover><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">F(\vec{x})</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">F</span><span class=mopen >(</span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.2077em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span>. </div> </figure> <p>The second function is</p> <a id=eqg  class=anchor ></a><span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>G</mi><mo stretchy=false >(</mo><mover accent=true ><mi>x</mi><mo>⃗</mo></mover><mo stretchy=false >)</mo><mo>=</mo><mn>10</mn><mi>n</mi><mo>+</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><mrow><mo fence=true >[</mo><msubsup><mi>x</mi><mi>i</mi><mn>2</mn></msubsup><mo>−</mo><mn>10</mn><mi>cos</mi><mo>⁡</mo><mo stretchy=false >(</mo><mn>2</mn><mi>π</mi><msub><mi>x</mi><mi>i</mi></msub><mo stretchy=false >)</mo><mo fence=true >]</mo></mrow></mrow><annotation encoding="application/x-tex"> G(\vec{x}) = 10 n + \sum\limits_{i=1}^n \left[x_i^2 - 10 \cos(2 \pi x_i)\right] </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class=mopen >(</span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.2077em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.7278em;vertical-align:-0.0833em;"></span><span class=mord >10</span><span class="mord mathnormal">n</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:2.9291em;vertical-align:-1.2777em;"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:1.6514em;"><span style="top:-1.8723em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em;"><span class=pstrut  style="height:3.05em;"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em;"><span class=pstrut  style="height:3.05em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:1.2777em;"><span></span></span></span></span></span><span class=mspace  style="margin-right:0.1667em;"></span><span class=minner ><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size1">[</span></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.8641em;"><span style="top:-2.453em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span><span style="top:-3.113em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.247em;"><span></span></span></span></span></span></span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mord >10</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mop >cos</span><span class=mopen >(</span><span class=mord >2</span><span class="mord mathnormal" style="margin-right:0.03588em;">π</span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span><span class=mclose >)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size1">]</span></span></span></span></span></span></span> <figure><img src="/assets/differential-evolution-example/plot-function-g.png" alt=""> <div style="text-align:center"><strong>Figure 2.</strong> Plot of function <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>G</mi><mo stretchy=false >(</mo><mover accent=true ><mi>x</mi><mo>⃗</mo></mover><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">G(\vec{x})</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class=mopen >(</span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.2077em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span><span class=mclose >)</span></span></span></span>. </div> </figure> <h2 id=what_is_differential_evolution ><a href="#what_is_differential_evolution" class=header-anchor >What is Differential Evolution?</a></h2> <p>Missing</p> <h2 id=handson ><a href="#handson" class=header-anchor >Hands–on</a></h2> <p>Before anything else, the following libraries are the ones used for this project.</p> <pre><code class="scheme hljs">#lang racket/base

(<span class=hljs-name ><span class=hljs-built_in >require</span></span> racket/list)
(<span class=hljs-name ><span class=hljs-built_in >require</span></span> racket/random)
(<span class=hljs-name ><span class=hljs-built_in >require</span></span> racket/math)
(<span class=hljs-name ><span class=hljs-built_in >require</span></span> plot)

<span class=hljs-comment >;; Evaluations counter</span>
(<span class=hljs-name ><span class=hljs-built_in >define</span></span> *evals-count* <span class=hljs-number >0</span>)

<span class=hljs-comment >;; Default number of guests to create mutant list</span>
(<span class=hljs-name ><span class=hljs-built_in >define</span></span> *guests-count* <span class=hljs-number >3</span>)</code></pre> <p>From the global variables above, the firs one <code>*evals-count*</code> help us to keep track of how many <em>evaluations</em> have been made throughout the algorithm execution, whereas <code>*guests-count*</code> defines the number of solutions that contribute into generating a new <em>mutant vector</em>. Each time one solution is created or a currently existing solution is modified, the evaluation count increases by 1 until a maximum has been reached, it is associated with the action of computing a score to a solution.</p> <h3 id=solutions ><a href="#solutions" class=header-anchor >Solutions</a></h3> <p>Before anything else we need a way of representing a solution, one way would be to use association lists or hash tables, these two data structures are readily available in Racket and would allow us to keep the solution itself and a score to know how <em>good</em> the solution is. An alternative is to use Racket&#39;s mutable <a href="https://docs.racket-lang.org/reference/structures.html">structs </a> with two fields that will contain the aforementioned information such as,</p> <pre><code class="scheme hljs"><span class=hljs-comment >;; Struct to store the relevant information of a solution</span>
(<span class=hljs-name >struct</span> solution (<span class=hljs-name >slist</span> sscore)
  #:mutable                             <span class=hljs-comment >; Makes the struct mutable</span>
  #:transparent)                        <span class=hljs-comment >; Allows for field inspection</span></code></pre> <p>where the solution itself is stored in <code>slist</code> as a <a href="https://docs.racket-lang.org/reference/pairs.html"><code>list</code></a>, and its score in <code>sscore</code>. We still need a proper way to initialize each <code>solution</code>, we do so as</p> <pre><code class="scheme hljs"><span class=hljs-comment >;; Produce a solution with default &#x27;empty fields</span>
(<span class=hljs-name ><span class=hljs-built_in >define</span></span> (<span class=hljs-name >make-solution</span> [<span class=hljs-name >slist</span> <span class=hljs-symbol >&#x27;empty</span>] [<span class=hljs-name >sscore</span> <span class=hljs-symbol >&#x27;empty</span>])
  (<span class=hljs-name ><span class=hljs-built_in >set!</span></span> *evals-count* (<span class=hljs-name >add1</span> *evals-count*))
  (<span class=hljs-name >solution</span> slist sscore))</code></pre> <p>with its available fields initialized to the symbol <code>&#39;empty</code> to represent that the fields contain no information. Notice that <code>*evals-count*</code> will increase by 1 each time that a new solution is generated&#33; </p> <p>For example, loading the file into a REPL, and running <code>&#40;make-solution&#41;</code> twice will result in the following behavior:</p> <pre><code class="scheme hljs"><span class=hljs-comment >; --- REPL</span>
&gt; (<span class=hljs-name >make-solution</span>)
(<span class=hljs-name >solution</span> <span class=hljs-symbol >&#x27;empty</span> <span class=hljs-symbol >&#x27;empty</span>)
&gt; (<span class=hljs-name >make-solution</span>)
(<span class=hljs-name >solution</span> <span class=hljs-symbol >&#x27;empty</span> <span class=hljs-symbol >&#x27;empty</span>)
&gt; *evals-count*
<span class=hljs-number >2</span></code></pre> <p>Although, none of the solutions remain stored in the REPL. On the other hand, a solution can be generated directly by creating <code>solution</code> struct as</p> <pre><code class="scheme hljs"><span class=hljs-comment >; --- REPL</span>
&gt; (<span class=hljs-name >solution</span> &#x27;(<span class=hljs-number >1</span> <span class=hljs-number >2</span> <span class=hljs-number >3</span>) <span class=hljs-number >0</span>)
(<span class=hljs-name >solution</span> &#x27;(<span class=hljs-number >1</span> <span class=hljs-number >2</span> <span class=hljs-number >3</span>) <span class=hljs-number >0</span>)
&gt; *evals-count*
<span class=hljs-number >2</span></code></pre> <p>and this will not increse the evaluation counter as opposed to <code>make-solution</code>.</p> <p>These solutions are related to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent=true ><mi>c</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{c}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.714em;"></span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">c</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.1799em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span> which is the argument to both equations, <span class=eqref >(<a href="#eqf">1</a>)</span> and <span class=eqref >(<a href="#eqg">2</a>)</span>. They depend on a n–dimensional vector <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent=true ><mi>x</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{x}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.714em;"></span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.2077em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>, and it can be represented as a simple Racket <code>list</code><sup id="fnref:1"><a href="#fndef:1" class=fnref >[1]</a></sup>.</p> <p>The solutions in Differential Evolution are randomly initialized, meaning that the <em>ith</em>–entry of a <code>solution</code>&#39;s <code>slist</code> is a random number, said entry is equivalent to <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5806em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> &#40;the <em>ith</em>–coordinate of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mover accent=true ><mi>x</mi><mo>⃗</mo></mover></mrow><annotation encoding="application/x-tex">\vec{x}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.714em;"></span><span class="mord accent"><span class=vlist-t ><span class=vlist-r ><span class=vlist  style="height:0.714em;"><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class="mord mathnormal">x</span></span><span style="top:-3em;"><span class=pstrut  style="height:3em;"></span><span class=accent-body  style="left:-0.2077em;"><span class=overlay  style="height:0.714em;width:0.471em;"><svg xmlns="http://www.w3.org/2000/svg" width='0.471em' height='0.714em' style='width:0.471em' viewBox='0 0 471 714' preserveAspectRatio='xMinYMin'><path d='M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5 3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11 10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63 -1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1 -7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59 H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359 c-16-25.333-24-45-24-59z'/></svg></span></span></span></span></span></span></span></span></span></span>&#41;. An easy way to generate a random number for each <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>x</mi><mi>i</mi></msub></mrow><annotation encoding="application/x-tex">x_i</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.5806em;vertical-align:-0.15em;"></span><span class=mord ><span class="mord mathnormal">x</span><span class=msupsub ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.3117em;"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em;"><span class=pstrut  style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span> within a range is</p> <a id=eqrand-num  class=anchor ></a><span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>R</mi><mo stretchy=false >(</mo><mi>l</mi><mo separator=true >,</mo><mi>u</mi><mo stretchy=false >)</mo><mo>=</mo><mi>l</mi><mo>+</mo><mi>r</mi><mo>⋅</mo><mo stretchy=false >(</mo><mi>u</mi><mo>−</mo><mi>l</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex"> R(l,u) = l + r \cdot (u - l) </annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.00773em;">R</span><span class=mopen >(</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal">u</span><span class=mclose >)</span><span class=mspace  style="margin-right:0.2778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2778em;"></span></span><span class=base ><span class=strut  style="height:0.7778em;vertical-align:-0.0833em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:0.4445em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >⋅</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class="mord mathnormal">u</span><span class=mspace  style="margin-right:0.2222em;"></span><span class=mbin >−</span><span class=mspace  style="margin-right:0.2222em;"></span></span><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class=mclose >)</span></span></span></span></span> <p>where <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>l</mi></mrow><annotation encoding="application/x-tex">l</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.6944em;"></span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span></span></span></span> and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>u</mi></mrow><annotation encoding="application/x-tex">u</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">u</span></span></span></span> correspond to the lower and upper limits, respectively, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span> is a random number sampled between 0 and 1 under a uniform probability distribution. </p> <p>Racket&#39;s random number function <a href="https://docs.racket-lang.org/reference/generic-numbers.html#&#37;28part._.Random_.Numbers&#37;29"><code>random</code></a> can be used to compute <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi></mrow><annotation encoding="application/x-tex">r</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span></span></span></span>. <code>random</code> generates a random number within range <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >(</mo><mn>0</mn><mo separator=true >,</mo><mn>1</mn><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">(0,1)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >(</span><span class=mord >0</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class=mord >1</span><span class=mclose >)</span></span></span></span>.</p> <p>The implementation of eq. <span class=eqref >(<a href="#eqrand-num">3</a>)</span> can be written directly as</p> <pre><code class="scheme hljs"><span class=hljs-comment >;; Generate an inexact random number within range (inflim,suplim)</span>
(<span class=hljs-name ><span class=hljs-built_in >define</span></span> (<span class=hljs-name >random-number</span> inflim suplim)
  (<span class=hljs-name ><span class=hljs-built_in >+</span></span> inflim
     (<span class=hljs-name ><span class=hljs-built_in >*</span></span> (<span class=hljs-name >random</span>)
        (<span class=hljs-name ><span class=hljs-built_in >-</span></span> suplim inflim))))</code></pre> <p>but the lower and upper limits are never chosen due to the implementation details of <code>random</code>.</p> <pre><code class="scheme hljs"><span class=hljs-comment >;; Generate a list filled up with inexact random numbers within the same </span>
<span class=hljs-comment >;; range (inflim,suplim] of length given by lstsize</span>
(<span class=hljs-name ><span class=hljs-built_in >define</span></span> (<span class=hljs-name >random-list</span> inflim suplim lstsize [<span class=hljs-name >rndlst</span> empty])
  (<span class=hljs-name ><span class=hljs-built_in >cond</span></span>
    [(<span class=hljs-name ><span class=hljs-built_in >equal?</span></span> lstsize <span class=hljs-number >0</span>) rndlst]
    [<span class=hljs-name ><span class=hljs-built_in >else</span></span> (<span class=hljs-name >random-list</span>
           inflim
           suplim
           (<span class=hljs-name >sub1</span> lstsize)
           (<span class=hljs-name ><span class=hljs-built_in >cons</span></span> (<span class=hljs-name >random-number</span> inflim suplim) rndlst))]))</code></pre> <h3 id=initialize_population ><a href="#initialize_population" class=header-anchor >Initialize Population</a></h3> <p>Differential evolution works with a <em>population</em> of solutions. </p> <p><table class=fndef  id="fndef:1"> <tr> <td class=fndef-backref ><a href="#fnref:1">[1]</a> <td class=fndef-content >In the context of programming languages, lists and vectors tend to represent different things data structures. </table> ~</p> <div class=page-foot > <a href="http://creativecommons.org/licenses/by-sa/4.0/">CC BY-SA 4.0</a> Flores-Torres Leonardo. Last modified: August 09, 2024. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div> </div> <script src="/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script> <label for=sidebar-checkbox  class=sidebar-toggle ></label>